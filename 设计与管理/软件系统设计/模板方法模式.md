---
aliases: 
date created: 2023-04-16 22:04:00
date modified: 2024-03-20 11:03:78
title: 模板方法模式
tags: [software-design/pattern]
---

## 定义
模板方法模式 (Template Method Pattern)：定义一个操作中**算法的骨架**，而将一些步骤**延迟到子类**中，模板方法使得子类**可以不改变一个算法的结构即可重定义该算法的某些特定步骤**。模板方法是一种**类行为型**模式。

## 结构
1. AbstractClass: 抽象类
2. ConcreteClass: 具体子类
![](https://spricoder.oss-cn-shanghai.aliyuncs.com/2021-Software-System-Design/img/lec06/13.png)

## 分析
### 优点
1. 在一个类中抽象地定义算法，而由它的子类实现细节的处理。
2. 是一种代码复用的基本技术。
3. 导致一种反向的控制结构，通过父类调用子类操作，使用对子类的扩展增加新的行为，符合[[开闭原则]]，同时符合[[单一职责原则]]。

### 缺点
1. 每个不同的实现都需要定义一个子类，导致类数量增加，系统庞大、设计更抽象。

### 适用场景
1. 一次性实现一个算法的不变的部分，并**将可变的行为留给子类来实现**。
2. **各子类中公共的行为应被提取出来并集中到一个公共父类**中以避免代码重复。
3. **对一些复杂的算法进行分割**，将其算法中固定不变的部分设计为模板方法和父类具体方法，而一些可以改变的细节由其子类来实现。
4. 控制**子类的扩展**。

#### 实例一：银行业务办理流程
在银行办理业务时，一般都包含几个基本步骤，首先需要取号排队，然后办理具体业务，最后需要对银行工作人员进行评分。无论具体业务是取款、存款还是转账，其基本流程都一样。现使用模板方法模式模拟银行业务办理流程。模板方法模式
![](https://spricoder.oss-cn-shanghai.aliyuncs.com/2021-Software-System-Design/img/lec06/14.png)