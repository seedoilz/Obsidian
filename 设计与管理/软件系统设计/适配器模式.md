---
aliases: [Adapter Pattern]
date created: 2023-04-17 15:04:00
date modified: 2024-03-20 11:03:72
title: 适配器模式
tags: [software-design/pattern]
---

## 定义
适配器模式 (Adapter Pattern) ：**将一个接口转换成客户希望的另一个接口**，适配器模式使**接口不兼容的那些类可以一起工作**，其别名为包装器 (Wrapper)。适配器模式既可以作为类结构型模式，也可以作为对象结构型模式。

## 结构
1. Target：目标抽象类
2. Adapter：适配器类
3. Adaptee：适配者类
4. Client：客户类

1. 对象适配器
![](https://spricoder.oss-cn-shanghai.aliyuncs.com/2021-Software-System-Design/img/lec07/2.png)
2. 类适配器
![](https://spricoder.oss-cn-shanghai.aliyuncs.com/2021-Software-System-Design/img/lec07/3.png)

## 分析
**符合**[[开闭原则]]: 可以在不修改代码的基础上添加新的适配器。
### 优点
1. 将目标类和适配者类解耦: 引入适配器类来重用现有的适配者类。
2. 增加类的透明性和复用性: 将具体实现封装在适配者类中，对客户端透明，提高复用性。
3. 灵活性和扩展性都非常好: 通过配置文件可以方便的更换适配器，或者不修改代码的基础上添加适配器，符合开闭原则。
4. (类适配器)适配器是适配者的子类，因此可以在适配器类中替换一些适配者的方法，使得适配器的灵活性更强。
5. (对象适配器)对象适配器可以将多个不同的适配者适配到同一个目标接口。

### 缺点
1. (类适配器)不支持多继承的语言，一次最多只能适配一个适配者类，且目标抽象类必须为抽象类 (不可以是具体类)，具有一定的局限性。
2. (对象适配器)相比于类适配器模式，置换适配者类的方法就不容易 (需要用适配者的子类置换对应方法后，将适配者的子类作为真正的适配者)

### 适用场景
1. 系统需要使用现有的类，但是接口不符合系统的需要
2. 系统想要一个可以重复使用的类，用于与一些彼此之间没有太大关联的一些类，包括未来可能引进的类一起工作。

#### 实例
现需要设计一个可以模拟各种动物行为的机器人，在机器人中定义了一系列方法，如机器人叫喊方法 cry ()、机器人移动方法 move ()等。如果希望在不修改已有代码的基础上使得机器人能够像狗一样叫，像狗一样跑，使用适配器模式进行系统设计。
![](https://spricoder.oss-cn-shanghai.aliyuncs.com/2021-Software-System-Design/img/lec07/4.png)