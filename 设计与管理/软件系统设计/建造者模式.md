---
aliases: 
date created: 2023-04-16 16:04:00
date modified: 2024-03-20 11:03:80
title: 建造者模式
tags: [software-design/pattern]
---

## 定义

建造者模式 (Builder Pattern)：将**一个复杂对象的构建与它的表示分离**，使得**同样的构建过程可以创建不同的表示**。

## 结构

1. Builder：抽象建造者
2. ConcreteBuilder：具体建造者
3. Director：指挥者
4. Product：产品角色

![](https://spricoder.oss-cn-shanghai.aliyuncs.com/2021-Software-System-Design/img/lec04/2.png)

## 分析

### 优点
1. 客户端不必知道产品内部组成的细节，将产品本身与产品的创建过程解耦，使得相同的创建过程可以创建不同的对象。
2. 每个建造者相对独立，用户使用不同的具体建造者即可得到不同的产品对象。
3. 可以跟家精细地控制产品的创建过程 (步骤分解)
4. 增加新的具体建造者无须修改原有类库的代码，指挥者类针对抽象建造者编程，系统扩展方便，符合[[开闭原则]]。

### 缺点
1. 要求创建的产品具有较多的相同点，其组成部分相似，使用范围受限。
2. 如果产品内部变化复杂，则需要很多的具体建造者，导致系统庞大

### 适用场景
1. 产品对象具有复杂的内部结构 (包含多个成员属性)
2. 产品对象属性相互依赖，需要执行生成顺序
3. 产品创建过程独立于创建对象的类。(引入指挥者类，对创建过程进行封装)
4. 隔离复杂对象的创建和使用，并使得相同的创建过程可以创建不同的产品。

#### 实例
建造者模式可以用于描述 KFC 如何创建套餐：套餐是一个复杂对象，它一般包含主食（如汉堡、鸡肉卷等）和饮料（如果汁、可乐等）等组成部分，不同的套餐有不同的组成部分，而 KFC 的服务员可以根据顾客的要求，一步一步装配这些组成部分，构造一份完整的套餐，然后返回给顾客。
![](https://spricoder.oss-cn-shanghai.aliyuncs.com/2021-Software-System-Design/img/lec04/3.png)