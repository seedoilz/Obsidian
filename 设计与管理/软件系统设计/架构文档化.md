---
aliases: 
date created: 2023-05-16 16:05:00
date modified: 2024-03-20 11:03:79
title: 架构文档化
tags: [system-architecture/theory]
---

## 背

### 为什么要记录软件架构
1. 用于交流和社交化架构设计决策。 
2. 帮助理解和评估架构设计决策。 
3. 刷新架构师对某些决策的记忆。 
4. 培训架构设计人员。
5. 提供了维护和修改决策的框架。 
6. 支持地理位置分散的团队。

### 记录软件架构的挑战
1. 没有普遍接受的记录软件架构的标准和方法。
2. 记录大型系统的架构是一件耗时且重要的任务。
3. 对于用于记录架构视图的数量和性质没有达成共识，是资源密集型活动。 
4. 迫在眉睫的最后期限和不断发展的架构性质不利于架构文档的流通。
5. 缺乏全面的符号和工具。

### 软件架构文档记录的内容
1. 组件的接口和依赖项  
2. 子系统的约束  
3. 测试场景 
4. 围绕设计决策的上下文信息

### 软件架构文档的记录内容的影响因素
1. 被记录的架构的复杂性
2. 应用程序的寿命  
3. 基于涉众对文档的预期使用

### 架构文档化的原则
1. 从读者的角度撰写文档 
2. 避免没有意义的重复  
3. 避免模糊性  
4. 使用标准的文档组织方法 
5. 记录架构设计的理由
6. 保持文档最新但不要太新 
7. 审查文档是否符合用途

### 体系结构文档的用途
1. 架构设计分析 
2. 工作分解和分配 
3. 部署后维护

## 视图和视图之外
### 视图 View
#### 视图风格(Style)分类
1. 它是如何构建为一组实现单元的?Module Styles
2. 它是如何构建为一组运行时行为和交互的元素的?Component-Connector Styles
3. 它与环境中的非软件结构有何关系?Allocation Style

#### 架构风格(Style)与架构模式(Pattern)
1. 架构风格
	1. 是元素和关系类型的特殊化，以及如何使用它们的一组约束。
	2. 侧重于架构方案，对特定风格何时有用或无用提供轻量指导。
2. 架构模式
	1. 表达了软件系统的基本结构组织模式。
	2. 重要部分是关注问题和上下文，以及如何应用上下文解决问题。 
	3. 架构模式:{问题，上下文} → 架构方法
3. 模块视图 Module View (结构视图)： 每个架构文档至少包含一个
	1. 模块是提供一组连贯职责的实现单元
	2. **视图示例: 分解视图、使用视图、泛化视图、分层视图、领域视图、数据模型视图。**
	![image.png](https://typora-tes.oss-cn-shanghai.aliyuncs.com/picgo/20230516163457.png)
4. C&C Views(Component-Connector Views)(结构视图)
	1. 显示具有某些运行时存在的元素，例如进程、对象、客户端、服务器 和数据存储 (组件)。
	2. 附件知识有哪些连接器连接到哪些组件，通过将连接器的端点连接到 组件的端口来显示附件。
	3. 视图示例: 管道和过滤器视图、客户端-服务端视图、点对点视图、面向服务的架构视图、发布-订阅视图
	![image.png](https://typora-tes.oss-cn-shanghai.aliyuncs.com/picgo/20230517143328.png)
5. 分配视图 Allocation Views(结构视图)
	1. 分配视图描述了软件单元到软件开发或执行环境元素的映射
	2. 分配视图目标是将软件元素所需的属性与环境元素提供的属性比较，以确定分配是否成功。
	3. 分配视图可以描述静态或动态视图。
	4. 视图示例: 部署视图、安装视图、工作分配视图、其他分配视图。
	![image.png](https://typora-tes.oss-cn-shanghai.aliyuncs.com/picgo/20230517143733.png)
6. 质量视图 Quality Views：
	1. 安全视图、性能视图、可靠性视图、沟通视图、 异常(错误处理)视图
7. 组合视图 Combining Views：
	1. 包括各种 C&C 视图、带有 SOA 或通信进程视图的部署视图、分解视图和任何工作分配、实施、使用或分层视图。
	2. 使用一张视图表示整个系统的部署信息，如下所示
	![image.png](https://typora-tes.oss-cn-shanghai.aliyuncs.com/picgo/20230517144834.png)
8. 如何选择视图
	1. 构建涉众/视图表: 行为涉众，列为视图，格子填写涉众对视图的细节了解程度。
	2. 合并视图
		1. 识别涉众/视图表中的边缘视图
		2. 通过关联一个视图中的元素和另一个视图中的元素，将每个边缘视图与另一个具有更强表示能力的视图相结合。
	3. 确定优先级和完成阶段
		1. 分解视图
		2. 80/20 原则
		3. 按顺序完成所有视图
9. 视图模板 View Template
	1. 第一部分: 主要介绍，显示视图的元素和关系，以及图例
	2. 第二部分: 元素介绍，详细介绍第一部分中描述的元素、元素属性、关系属性和元素接口和行为
	3. 第三部分: 上下文图，描述系统如何与环境相关
	4. 第四部分: 可变性指南，告知视图中可能发生的变化
	5. 第五部分: 基本原理，为什么设计反映在视图中，并且说明其合理性
	![image.png](https://typora-tes.oss-cn-shanghai.aliyuncs.com/picgo/20230517145445.png)

### 视图之外的部分
这部分包含如下六个部分，此外还包含了文档控制信息(Document Control Information)
![image.png](https://typora-tes.oss-cn-shanghai.aliyuncs.com/picgo/20230517145733.png)

#### 文档路线图(Documentation Roadmap)
说明文档中的信息，以及可以在哪里找到
1. 范围和总结
2. 文档的组织方式
	1. 简短的摘要
	2. 带注释的目录
3. 查看概览
4. 涉众如何使用本文档

#### 视图间映射(Mapping Between View)
![image.png](https://typora-tes.oss-cn-shanghai.aliyuncs.com/picgo/20230517145904.png)

