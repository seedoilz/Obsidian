---
aliases: [Law of Demeter, LoD, Least Knowledge Principle, LKP, 最少知识原则]
date created: 2023-04-15 22:04:00
date modified: 2024-03-20 11:03:74
title: 迪米特法则
tags: [software-design/principle]
---

## 定义

迪米特法则(Law of Demeter, LoD)又称为最少知识原则(Least Knowledge Principle, LKP)，它有多种定义方法，其中几种典型定义如下：
1. **不要和"陌生人"说话**。
2. **只与你的直接朋友通信**。
3. **每一个软件单位对其他的单位都只有最少的知识，而且局限于那些与本单位密切相关的软件单位**。

## 分析

1. 迪米特法则就是指**一个软件实体应当尽可能少的与其他实体发生相互作用**。这样，当一个模块修改时，就会尽量少的影响其他的模块，扩展会相对容易，这是对软件实体之间通信的限制，它要求限制软件实体之间通信的宽度和深度。
2. 在迪米特法则中，对于一个对象，其**朋友**包括以下几类：
	1. 当前对象本身(this)
	2. 以参数形式传入到当前对象方法中的对象
	3. 当前对象的成员对象
	4. 如果当前对象的成员对象是一个集合，那么集合中的元素也都是朋友
	5. 当前对象所创建的对象
3. 狭义的迪米特法则：可以**降低类之间的耦合**，但是会在系统中增加大量的小方法并散落在系统的各个角落，它可以使一个系统的局部设计简化，因为每一个局部都不会和远距离的对象有直接的关联，但是也会**造成系统的不同模块之间的通信效率降低**，使得系统的不同模块之间不容易协调。
4.  广义的迪米特法则：指**对对象之间的信息流量、流向以及信息的影响的控制**，主要是**对信息隐藏的控制**。信息的隐藏可以使各个子系统之间脱耦，从而允许它们独立地被开发、优化、使用和修改，同时可以促进软件的复用，由于每一个模块都不依赖于其他模块而存在，因此每一个模块都可以独立地在其他的地方使用。一个系统的规模越大，信息的隐藏就越重要，而信息隐藏的重要性也就越明显。

## 实例

![](https://spricoder.oss-cn-shanghai.aliyuncs.com/2021-Software-System-Design/img/lec01/18.png)

![](https://spricoder.oss-cn-shanghai.aliyuncs.com/2021-Software-System-Design/img/lec01/19.png)
