---
aliases:
tags:
title: SON algorithm
date created: 2024-12-07 15:12:00
date modified: 2024-12-07 15:12:51
---
## 流程
### Job 1: 局部频繁项集生成
#### Mapper for Job 1
1. 处理每个分块（chunk）：
	1. 在每个分块中运行Apriori算法，使用局部支持度阈值（ps）。
	2. 计算该分块内的局部频繁项集。
2. 输出局部频繁项集：
	1. 输出形式为 (F, c)，其中：
	2. F 是频繁项集。
	3. c 是该项集在分块中的局部计数或占比。
#### Reducer for Job 1
1. 合并候选项集：
	1. 汇总所有Mapper输出的局部频繁项集 (F, c)，去重并生成候选项集。
2. 输出候选项集：
	1. 丢弃局部计数 c，仅输出候选项集 F，以便在Job 2中验证其全局支持度。
### Job 2: 全局支持度验证
#### Mapper for Job 2
1. 统计候选项集的全局频率：
	1. 读取Job 1生成的候选项集。对每个分块中的候选项集统计其出现次数。
	2. 输出候选项集的局部计数：
2. 输出形式为 (F, c)，其中：
	1. F 是候选项集。
	2. c 是该项集在当前分块中的计数。
#### Reducer for Job 2
1. 聚合全局计数：
	1. 汇总所有Mapper的输出 (F, c)，计算每个候选项集的全局支持度。
2. 筛选全局频繁项集：
	1. 根据全局支持度阈值 s，过滤掉支持度小于 s 的项集。
	2. 输出全局频繁项集。